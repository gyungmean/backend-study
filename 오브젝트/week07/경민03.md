# 역할, 책임, 협력

## 협력

### 협력이 설계를 위한 문맥을 결정한다

-   객체의 행동을 결정하는 것은 객체가 참여하고 있는 **협력**이다
-   객체의 행동을 결정하는 것이 협력이라면 객체의 상태를 결정하는 것은 **행동**이다
    따라서,  
    협력은 객체를 설계하는데 필요한 일종의 문맥(context)을 제공한다.

## 책임

### 책임 할당

자율적인 객체를 만드는 가장 기본적인 방법  
책임을 수행하는 데 필요한 정보를 가장 잘 알고 있는 전문가에게 그 책음을 할당하는 것  
**INFORMATION EXPERT**(정보전문가)패턴

예를 들어, `예매하라` 라는 메시지가 있을때 이 메시지를 처리할 객체는?  
영화 예매와 관련된 정보를 가장 많이 알고 있는 객체 = 상영 시간과 기본 요금을 알아야함 = `Screening`

하지만 Screening은 예매 가격을 계산하는데에 필요한 정보를 충분히 모른다.
따라서 `가격을 계산하라`라는 메시지를 보내야한다.
가격을 계산하기 위해서는 가격과 할인정책이 필요하다 = `Movie`
...

### 메시지가 객체를 결정한다
메시지가 객체를 선택하게 해야하는 이유
- 객체가 최소한의 인터페이스를 가질 수 있게 된다.
- 객체는 충분히 추상적인 인터페이스를 가질 수 있게 된다.


## 역할
### 역할과 협력
AmountDiscountPolicy와 PercentDiscountPolicy모두 할인 요금 계산이라는 동일한 책임을 수행한다.  
두 종류의 객체가 참여하는 협력을 개별적으로 만들 필요 x  
객체라는 존재를 지우고 `할인요금을 계산하라`는 메시지에 응답할 수 있는 대표자를 만들어 두 협력을 하나로 통합할 수 있다.  
협력 안에서 두 종류의 객체를 교대로 바꿔 끼울 수 있는 일종의 슬롯으로 생각할 수 있다.  
이 슬롯이 바로 `역할`이다.
