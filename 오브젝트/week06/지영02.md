# 02.객체지향 프로그래밍

## 01 온라인 영화 예매 시스템
> 영화 = 영화에 대한 기본적인 정보(제목, 상영시간, 가격 정보)
</br>상영 = 실제로 관객들이 영화를 관람하는 사건(상영 일자, 시간, 순번)

사용자가 실제로 예매하는 대상은 영화가 아니라 상영이다.

**특정한 조건을 만족하는 예매자는 요금을 할인받는다.(할인액)**
> 할인조건, 할인정책

**할인조건: 가격의 할인 여부 결정**
1. 순서 조건: 상영 순번을 이용해 할인 여부를 결정 ex)10번째로 상영
2. 기간 조건: 영화 상영 시작 시간을 이용해 할인 여부를 결정 ex) 오전10~오후1시 상영되는 모든 영화에 대해 할인
</br>요일, 시작 시간, 종료 시간의 세 부분으로 구성
</br>영화 시작 시간이 해당 기간 안에 포함될 경우 요금 할인

**할인 정책: 할인 요금을 결정**
1. 금액 할인 정책: 예매 요금에서 일정 금액을 할인해주는 방식 ex)800원 할인
2. 비율 할인 정책: 정가에서 일정 비율의 요금을 할인 ex) 10%할인

## 02 객체지향 프로그래밍을 향해
### 협력, 객체 클래스
1. 어떤 클래스가 필요한지를 고민하기 전에 어떤 객체들이 필요한지 고민하라.
</br>클래스: 공통적인 상태와 행동을 공유하는 객체들을 추상화
</br>어떤 객체들이 어떤 상태와 행동을 가지는지를 먼저 결정해야 한다.
2. 객체를 독립적인 존재가 아니라 기능을 구현하기 위해 협력하는 공동체의 일원으로 봐야 한다.

### 도메인의 구조를 따르는 프로그램 구조
도메인: 문제를 해결하기 위해 사용자가 프로그램을 사용하는 분야
<img width="788" height="218" alt="image" src="https://github.com/user-attachments/assets/ac9f83e5-70f3-4b97-b489-aa1004d7bb45" />
<img width="760" height="210" alt="image" src="https://github.com/user-attachments/assets/b5d57739-5a91-4ee8-9fb5-c75c72275351" />
</br>(의문점) 할인 조건이 반드시 1개 이상 있어야 한다"는 제약(1..*)??0..*아닌가
</br>p.70 할인 정책은 적용돼 있지만 할인 조건을 만족하지 못하는 경우나 아예 할인 정책이 적용돼 있지 않은 경우에는 요금을 할인하지 않는다.

### 클래스 구현
```java
public class Screening {//상영(사용자들이 예매하는 대상)
  private Movie movie;//영화(인스턴스 변수)
  private int sequence;//순번
  private LocalDataTime whenScreened;//상영 시작 시간

  public Screening(Movie movie, int sequence, LocalDataTime whenScreened) {
    this.movie = movie;
    this.sequence = sequence;
    this.whenScreened = whenScreened;
  }

  public LocalDataTime getStartTime() {//상영 시작 시간
    return whenScreened;
  }

  public boolean isSequence(int sequence) { //순번의 일치 여부 검사
    return this.sequence == sequence;
  }

  public Money getMovieFee() { //기본 요금 반환
    return movie.getFee();
  }
}

```
인스턴스 변수의 가시성은 private
</br>메소드의 가시성은 public

</br>**클래수는 내부와 외부로 구분**
> 경계의 명확성이 객체의 자율성을 보장/프로그래머에게 구현의 자유 제공

### 자율적인 객체
1. 객체가 **상태(state)** 와 **행동(behavior)** 가진다.
2. 객체가 스스로 판단하고 행동하는 **자율적인 존재**

객체지향은 객체라는 단위 안에 데이터와 가능을 한 덩이리로 묶음으로써 문제 영역의 아이디어를 적절하게 표현
>캡슐화 = 데이터와 기능을 객체 내부로 함께 묶음
접근제어 = 외부에서의 접근을 통제
접근 수정자 = 접근 제어를 위해 public, protected, private

캡슐화와 접근 제어는 두 부분으로 나눈다
>퍼블릭 인터페이스: 외부에서 접근 가능한 부분
구현: 내부에서만 접근 가능한 부분

인터페이스와 구현의 분리!! 

객체 상태는 숨기고 행동만 외부에 공개
>클래스 속성: private
</br>일부 메서드: public
</br>어떤 메서드: 서브클래스나 내부에서 접근 가능해야 한다면 가시성을 protected나 private
</br>퍼블릭 인터페이스: public, private 메서드나 protected메서드, 속성은 구현에 포함

### 프로그래머의 자유
프로그래머의 역할
> 클래스 작성자: 새로운 데이터 타입을 프로그램에 추가
</br>클라이언트 프로그래머: 클래스 작성자가 추가한 데이터 타입을 사용

구현은닉? 

### 클래스 구현하기
