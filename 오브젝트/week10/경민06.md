# 메시지와 인터페이스
## 협력과 메시지
### 클라이언트-서버 모델
메시지를 전송하는 객체 == 클라이언트
메시지를 수신하는 객체 == 서버
### 메시지와 메시지 전송
메시지 = 오퍼레이션명 + 인자
예를 들어 `isSatisfiedBy(screening)` 은 메시지이고
메시지 수신자인 `condition.isSatisfiedBy(screening)` condition을 추가한 경우 메시지 전송이 된다.
### 메시지와 메서드
메서드 = 메시지를 수신했을 때 실제로 실행되는 함수 또는 프로시저
메시지에 응답하기 위해 실행되는 코드 블록을 의미
### 퍼블릭 인터페이스와 오퍼레이션
퍼블릭 인터페이스 = 외부에 공개하는 메시지 집합
오퍼레이션 = 프로그래밍 언어의 관점에서 퍼블릭 인터페이스에 포함된 메시지
즉, 구현 코드는 제외하고 단순히 메시지와 관련된 시그니처를 가리킴
UML에서 공식적으로 정의한 오퍼레이션 → 실행하기 위해 객체가 호출될 수 있는 변환이나 정의에 관한 명세
### 시그니처
오퍼레이션의 이름과 파라미터 목록을 합쳐 시그니처라고 부른다.

## 인터페이스와 설계 품질
### 디미터 법칙
객체 내부 구조에 강하게 결합되지 않도록 협력 경로를 제한하는 것.
자바나 C#의 경우 .을 사용해 메시지 전송을 표기하는데 하나의 도트만 사용하라 라는 말로 요약되기도 한다.
클래스 C와 C에 구현된 모든 메서드 M에 대해서
**M이 메시지를 전송할 수 있는 모든 객체는 다음에 서술된 클래스의 인스턴스**여야 한다.

이때, M에 의해 생성된 객체나 M이 호출하는 메서드에 의해 생성된 객체,
전역변수로 선언된 객체는 모두 M의 인자로 간주한다.

- M의 인자로 전달된 클래스(C자체 포함)
- C의 인스턴스 변수 클래스

아래와 같은말
- this 객체
- 메서드의 매개변수
- this의 속성
- this의 속성인 컬렉션의 요소
- 메서드 내에서 생성된 지역 객체

예를 들어
`screening.getMovie().getDiscountConditions();`  
이런 코드는 문제가 있다.  
메시지 전송자가 수신자의 내부구조(=Movie)에 대해 물어보고   
반환받은 요소에 대해 연쇄적으로 메시지를 전송한다.  
이와 같은 것을 기차 충돌이라고 부르는데  
클래스의 내부 구현이 외부로 노출됐을 때 나타나는 전형적인 형태이다.  
`screening.calculateFee(audienceCount);`  
이렇게 고친다면? 
내부 구조에 대해서 묻지 않고 단지 screening에게 요금을 계산하도록 요청하는 형태가 된다.

### 묻지 말고 시켜라
